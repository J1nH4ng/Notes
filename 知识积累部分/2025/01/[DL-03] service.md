# [DL-03] Systemd 的 Service 文件详解

## Service 文件的组成部分

systemd 服务的内容主要分为三个部分，控制单元 `[Unit]`，服务 `[Service]` 以及 `[Install]` 安装部分。

### [Unit] 字段

这个字段主要给出服务描述、启动顺序和依赖关系，其中的字段内容如下：

- `Description=`：给出当前服务的简单描述
- `Documentation=`：给出文档位置
- `After=`：表示在什么服务之后启动
- `Before=`：表示在什么服务之前启动
- `Wants=`：表示该服务和某服务存在某种弱依赖关系，即某服务停止运行或退出也不影响该服务继续运行
- `Requires=`：表示强依赖关系，即某服务停止运行或提出，该服务也必须停止运行

> [!NOTE]
> - `After` 和 `Before` 只设计启动顺序，和依赖关系无关
> - `Wants` 和 `Requires` 只涉及依赖关系，和启动顺序无关，默认情况下是同时启动的