# [HA-001] RabbitMQ 高可用集群搭建

## 镜像队列和仲裁队列

RabbitMQ 的集群部署有两种模式：

- 普通集群：又称为标准集群，是一种分布式集群，将队列分散到集群的各个节点，提高整个集群的并发能力。
- 镜像集群：在普通集群的基础上，添加了主从备份功能，又称为主从复制集群，提高集群的数据可用性。

镜像集群虽然支持主从复制，但主从同步并不是强一致的，某些情况下可能有数据丢失的风险。因此在 RabbitMQ 的 3.8 版本以后，推出了新的功能：使用仲裁队列来代替镜像集群，底层采用 Raft 协议确保主从的数据一致性。

这里介绍的是镜像队列（仲裁队列）的安装配置方式，对于这两个队列的使用，只需要在创建 `Vhost` 时根据需要选择不同的 `Type` 即可，其中：

- `Classic`：表示创建普通队列
- `Quorum`：表示创建仲裁队列

## 安装配置

> [!INFO]
> $$\text{搭建镜像队列需要的服务器} \geq  3 \text{台}$$